<main class="container">
  <h2>Supplier Page for Lab</h2>
  <div class="row mt-3" [formGroup]="formSearch">
    <div class="input-group">
      <div class="form-outline">
        <input type="number" class="form-control" formControlName="search" placeholder="Enter ID.." />
      </div>
      <button type="button" mat-raised-button color="primary"
        (click)="searchSuppliers(formSearch.controls.search.value)">
        <mat-icon>search</mat-icon>
      </button>
      <button type="button" (click)="getSuppliers()" mat-raised-button color="accent">Refresh</button>
    </div>
  </div>

  <div class="card border-success mb-3 mt-3" style="max-width: 18rem;" *ngIf="cardShow">
    <div><button type="button" mat-icon-button color="warn" (click)="closeCard()"><mat-icon>cancel</mat-icon></button></div>
    <div class="card-header">Id: {{suppliers.SupplierID}}</div>
    <div class="card-header">CompanyName: {{suppliers.CompanyName}}</div>
    <div class="card-body">Name: {{suppliers.ContactName}}</div>
  </div>

  <body>
    <table class="table table-striped">
      <thead>
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Company name</th>
          <th scope="col">Name</th>

        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let supplier of listSuppliers;">
          <th scope="row">{{supplier.SupplierID}}</th>
          <td>{{supplier.CompanyName}}</td>
          <td>{{supplier.ContactName}}</td>
          <td><button type="button" class="btn btn-danger" (click)="handleWarningAlert(supplier.SupplierID)"><mat-icon>delete_forever</mat-icon></button></td>
          <td><button type="button" class="btn btn-success" (click)="getUpdate(supplier); open(content)"><mat-icon>update</mat-icon></button></td>
        </tr>
      </tbody>
    </table>
    <div>
      <button type="button" class="btn btn-success" (click)="open(content)">
        <mat-icon>add_box</mat-icon>
      </button>
    </div>

  </body>

</main>

<ng-template #content let-modal>
  <div class="modal-header">
    <h2 class="modal-title" id="modal-basic-title">ADD NEW SUPPLIER</h2>
    <button type="button" class="close" aria-label="Close" mat-icon-button color="warn" (click)="modal.dismiss('Cross click')">
      <mat-icon>cancel</mat-icon>
    </button>
  </div>
  <div class="modal-body">
    <app-form (messageEvent)="receiveMessage($event)" [supplierChild]="supplierParent"></app-form>
  </div>
  <div class="modal-footer">
  </div>
</ng-template>


